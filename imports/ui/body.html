<body>

    <!--tabs-->
    <div class="tab" >
        {{#if admin}} 
        <button class="tablinks" id="admin-tab">Admin</button>
        {{/if}}
        <button class="tablinks" id="tournament-tab">Tournaments</button>
        <button class="tablinks" id="team-tab">Teams</button>
        <button class="tablinks" id="match-tab">Matches</button>
        <span id="login">{{> loginButtons}}</span>
        <span id="currentTournament">{{currentTournament}}</span>
    </div>
    
    <!--admin tab-->
    <div id="admin-container" class="tabcontent">
        <header>
            <h1>Users</h1>
        </header>
        &nbsp;
        <br>
        <form action="" class="select-tournament">
            
                       
            

            <table style="width:90%" align="center">
                <th>Username</th>
                <th>Tournament Permissions</th>
                <th>Add Tournament</th>
            {{#each users}}
                <tr class="user-listing" title="{{_id}}">
                    
                    <!--username-->
                    <td><strong>{{username}}</strong></td>
                    <!--tournaments with editor permissions-->
                    <td>
                        {{#each editableTournaments _id}}
                            {{getTournamentFromId(this)}}
                            <button class="delete" id="editorDelete" value="{{this}}" >&times;</button><br><br>
                        {{/each}}
                    </td>
                    <td>
                        {{#each nonEditableTournaments _id}}
                            <button class="add-editor" value="{{this}}">{{getTournamentFromId(this)}}</button><br>
                        {{/each}}
                    </td>
                    
                </tr>
            {{/each}}
            </table>
        </form>
    </div>

    <!--tournament tab-->
    <div id="tournament-container" class="tabcontent">
        <header>
            <h1>Tournament Select</h1>
        </header>
        <p>
            <strong>Please enter a new tournament or select an existing tournament to view.</strong>
        </p>
        &nbsp;
        {{#if currentUser}}   
            {{#if admin}} 
                <form class="new-tournament">
                    <span>
                        Tournament Name: <input type="text" name="tournament" placeholder="Tournament Name" tabindex="1"/>
                        <input type="submit" value="Submit" tabindex="2" class="submit">
                    </span>
                </form>
            {{/if}}
        {{/if}} 
        <br>
        <form action="" class="select-tournament">
            <ul>
            {{#each tournaments}}
                <li>
                <input class="tournaments" type="radio" name="tournament" value="{{_id}}"> {{title}}
                <button class="delete" id="tournamentDelete" value="{{_id}}">&times;</button><br>
                </li>
            {{/each}}
            </ul>
        </form>
    </div>
    
    <!--team tab-->
    <div id="team-container" class="tabcontent">
        <header>
            <h1>Team List ({{teamCount}})</h1>
        </header>
        {{#if currentUser}}
            {{#if tournamentPermission}}
                {{> enterTeam}}
            {{/if}}
        {{/if}} 
        <br>
        &nbsp;
        <table style="width:90%" align="center">
            <tr>
                <th>Team Name</th>
                <th>W</th>
                <th>L</th>
                <th>T</th>
                <th>%</th>
            </tr>
            {{#each teams}}
                {{> team}}
            {{/each}}
        </table>
    </div>
    
    <!--match tab-->
    <div id="match-container" class="tabcontent" >
        <header>
            <h1>Match List ({{matchCount}})</h1>
        </header>
        {{#if currentUser}}
            {{#if tournamentSelected}}
                {{> enterMatch}}
            {{/if}}
        {{/if}} 
        <br>
        &nbsp;
        <table style="width:90%" align="center">
            <tr>
                <th>Round</th>
                <th>Team 1 Name</th>
                <th>Team 1 Score</th>
                <th></th>
                <th>Team 2 Name</th>
                <th>Team 2 Score</th>
            </tr>
            {{#each matches}}
                {{> match}}
            {{/each}}
        </table>
    </div>
    
    
</body>
 
